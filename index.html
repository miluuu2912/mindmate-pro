<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindMate Pro - AI Mental Health Companion</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}body{font-family:Poppins,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;animation:float 20s ease-in-out infinite}@keyframes float{0%,100%{transform:translate(0,0)}50%{transform:translate(30px,30px)}}.container{max-width:1400px;margin:0 auto;padding:20px;position:relative;z-index:1}.navbar{background:rgba(255,255,255,.95);padding:20px 40px;border-radius:20px;display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;box-shadow:0 15px 50px rgba(0,0,0,.15);backdrop-filter:blur(10px)}.nav-brand{display:flex;align-items:center;gap:12px}.logo{font-size:2.5rem;animation:rotate 3s ease-in-out infinite}@keyframes rotate{0%,100%{transform:rotate(0deg)}50%{transform:rotate(10deg)}}.nav-brand h1{font-size:1.8rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800}.nav-menu{display:flex;gap:25px;align-items:center}.nav-link{text-decoration:none;color:#666;font-weight:600;transition:all .3s;padding:8px 16px;border-radius:10px;cursor:pointer}.nav-link:hover{color:#667eea;background:rgba(102,126,234,.1);transform:translateY(-2px)}.nav-link.active{color:#667eea;background:rgba(102,126,234,.1)}.crisis-banner{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;padding:20px 40px;border-radius:15px;margin-bottom:25px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 10px 30px rgba(255,107,107,.4)}.crisis-content{display:flex;gap:20px;align-items:center;flex:1}.crisis-content a{color:#fff;font-weight:700;text-decoration:none;padding:8px 16px;background:rgba(255,255,255,.2);border-radius:8px;transition:all .3s}.crisis-content a:hover{background:rgba(255,255,255,.3)}.crisis-banner button{background:rgba(255,255,255,.2);border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:8px 12px;border-radius:8px}.hero{background:rgba(255,255,255,.95);padding:80px 60px;border-radius:35px;text-align:center;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.streak-card{display:inline-flex;align-items:center;gap:20px;background:linear-gradient(135deg,#f093fb,#f5576c);padding:25px 50px;border-radius:60px;color:#fff;margin-bottom:35px;box-shadow:0 15px 40px rgba(240,147,251,.5)}.streak-icon{font-size:3.5rem;animation:flame 1.5s ease-in-out infinite}@keyframes flame{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.streak-number{font-size:3rem;font-weight:800}.streak-label{font-size:1rem;font-weight:600}.hero h2{font-size:3rem;color:#667eea;margin-bottom:15px;font-weight:800}.hero-subtitle{font-size:1.4rem;color:#666;margin-bottom:50px;font-weight:500}.mood-selector{display:flex;gap:20px;justify-content:center;margin-bottom:50px;flex-wrap:wrap}.mood-btn{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border:3px solid transparent;padding:25px;border-radius:25px;cursor:pointer;transition:all .4s;display:flex;flex-direction:column;align-items:center;gap:12px;font-size:2.5rem;min-width:110px}.mood-btn:hover{transform:translateY(-8px);border-color:#667eea;box-shadow:0 15px 40px rgba(102,126,234,.4)}.mood-btn span{font-size:1rem;font-weight:700;color:#667eea}.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:22px 60px;font-size:1.3rem;font-weight:700;border-radius:60px;cursor:pointer;box-shadow:0 15px 40px rgba(102,126,234,.5);transition:all .4s}.btn-primary:hover{transform:translateY(-5px);box-shadow:0 20px 50px rgba(102,126,234,.6)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px;margin-top:50px}.stat-card{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:35px;border-radius:25px;display:flex;align-items:center;gap:25px;transition:all .4s;cursor:pointer}.stat-card:hover{transform:translateY(-8px);box-shadow:0 15px 40px rgba(102,126,234,.3)}.stat-icon{font-size:3.5rem}.stat-value{font-size:3rem;font-weight:800;color:#667eea}.stat-label{font-size:1rem;color:#666;font-weight:600}.chat-section{background:rgba(255,255,255,.95);border-radius:35px;padding:35px;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.chat-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:25px;border-bottom:3px solid #f0f0f0;margin-bottom:25px}.chat-header button{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border:none;font-size:1.1rem;cursor:pointer;padding:12px 24px;border-radius:12px;transition:all .3s;font-weight:600;color:#667eea}.chat-header button:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;transform:translateY(-2px)}.chat-status{display:flex;align-items:center;gap:10px;color:#10b981;font-weight:700;font-size:1.1rem}.status-dot{width:12px;height:12px;background:#10b981;border-radius:50%;animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.chat-container{height:550px;overflow-y:auto;padding:25px;background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border-radius:25px;margin-bottom:25px;scroll-behavior:smooth}.chat-container::-webkit-scrollbar{width:8px}.chat-container::-webkit-scrollbar-track{background:rgba(102,126,234,.1);border-radius:10px}.chat-container::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px}.message{margin-bottom:25px;display:flex;gap:12px;animation:slideIn .5s ease}@keyframes slideIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.user-message{justify-content:flex-end}.message-avatar{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;background:linear-gradient(135deg,#667eea,#764ba2);flex-shrink:0;box-shadow:0 5px 15px rgba(102,126,234,.4)}.message-content{max-width:75%;padding:18px 24px;border-radius:25px;line-height:1.7;font-size:1.05rem;font-weight:500}.ai-message .message-content{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom-left-radius:8px;box-shadow:0 8px 20px rgba(102,126,234,.3)}.user-message .message-content{background:#fff;color:#333;border-bottom-right-radius:8px;box-shadow:0 8px 20px rgba(0,0,0,.1)}.chat-input-area{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border-radius:25px;padding:20px}.input-wrapper{display:flex;gap:12px;align-items:flex-end;margin-bottom:15px}#messageInput{flex:1;border:3px solid #e0e7ff;border-radius:20px;padding:15px 20px;font-family:Poppins,sans-serif;resize:none;min-height:60px;max-height:150px;transition:all .3s;font-size:1.05rem;background:#fff}#messageInput:focus{outline:0;border-color:#667eea;box-shadow:0 0 20px rgba(102,126,234,.2)}.btn-voice{background:linear-gradient(135deg,#f093fb,#f5576c);border:none;width:60px;height:60px;border-radius:50%;cursor:pointer;transition:all .3s;font-size:1.5rem;box-shadow:0 8px 20px rgba(240,147,251,.4)}.btn-voice:hover{transform:scale(1.15)}.btn-voice.listening{animation:pulseVoice 1s infinite}@keyframes pulseVoice{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}.btn-send{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:15px 35px;border-radius:20px;font-weight:700;cursor:pointer;font-size:1.1rem;transition:all .3s;box-shadow:0 8px 20px rgba(102,126,234,.4)}.btn-send:hover{transform:translateY(-3px)}.lang-selector{display:flex;gap:12px;justify-content:center}.lang-btn{background:#fff;border:3px solid transparent;padding:10px 25px;border-radius:25px;cursor:pointer;font-weight:600;transition:all .3s;font-size:1rem}.lang-btn.active{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 8px 20px rgba(102,126,234,.4)}.insights-section,.resources-section{background:rgba(255,255,255,.95);border-radius:35px;padding:50px;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.insights-section h2,.resources-section h2{text-align:center;font-size:2.5rem;color:#667eea;margin-bottom:40px;font-weight:800}.insights-grid,.resources-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:30px}.insight-card,.resource-card{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:40px;border-radius:25px;transition:all .4s;cursor:pointer}.insight-card:hover,.resource-card:hover{transform:translateY(-8px);box-shadow:0 15px 40px rgba(102,126,234,.3)}.insight-card h3,.resource-card h3{color:#667eea;margin-bottom:25px;font-size:1.6rem;font-weight:700}.cbt-modules{display:flex;flex-direction:column;gap:20px}.module-item{display:flex;align-items:center;gap:20px;background:#fff;padding:20px;border-radius:20px;transition:all .3s;cursor:pointer}.module-item:hover{transform:translateX(8px);box-shadow:0 8px 20px rgba(102,126,234,.2)}.module-icon{font-size:2.5rem}.module-item strong{display:block;color:#667eea;font-size:1.2rem;margin-bottom:5px}.module-item p{font-size:.95rem;color:#666}.btn-small{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:10px 25px;border-radius:12px;cursor:pointer;font-weight:700;transition:all .3s}.btn-small:hover{transform:translateY(-2px)}.badges-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.badge{text-align:center;padding:20px;background:#fff;border-radius:20px;filter:grayscale(100%);opacity:.4;transition:all .4s}.badge.unlocked{filter:grayscale(0%);opacity:1;animation:badgeUnlock .6s ease}@keyframes badgeUnlock{0%{transform:scale(0) rotate(-180deg)}100%{transform:scale(1) rotate(0)}}.badge-icon{font-size:3rem;display:block;margin-bottom:8px}.badge-name{font-size:.9rem;color:#667eea;font-weight:700}.resource-icon{font-size:4rem;display:block;margin-bottom:20px}.resource-card ul{list-style:none;padding:0}.resource-card li{padding:12px 0;border-bottom:2px solid rgba(102,126,234,.15);font-weight:500}.btn-secondary{background:#fff;color:#667eea;border:3px solid #667eea;padding:15px 35px;border-radius:15px;cursor:pointer;font-weight:700;margin-top:20px;transition:all .3s}.btn-secondary:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent;transform:translateY(-3px)}.modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(5px)}.modal-content{position:relative;background:#fff;padding:60px;border-radius:35px;text-align:center;max-width:550px;box-shadow:0 30px 80px rgba(0,0,0,.3)}.modal-celebration{font-size:6rem;margin-bottom:25px}.modal-content h2{font-size:2.5rem;color:#667eea;margin-bottom:25px;font-weight:800}.modal-stats{display:flex;gap:40px;justify-content:center;margin:35px 0}.modal-stat{display:flex;flex-direction:column;align-items:center}.modal-stat-icon{font-size:2.5rem;margin-bottom:10px}.modal-stat-value{font-size:2.5rem;font-weight:800;color:#667eea}.modal-stat-label{font-size:.95rem;color:#666;font-weight:600}.hidden{display:none!important}.typing-indicator{display:flex;gap:8px;padding:15px;margin-bottom:15px;justify-content:center}.typing-indicator span{width:10px;height:10px;background:#667eea;border-radius:50%;animation:typing 1.4s infinite}@keyframes typing{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-12px)}}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}.cbt-modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.cbt-modal-content{position:relative;background:#fff;padding:50px;border-radius:35px;max-width:700px;max-height:80vh;overflow-y:auto;box-shadow:0 30px 80px rgba(0,0,0,.3)}.cbt-modal-content h2{color:#667eea;font-size:2rem;margin-bottom:25px;font-weight:800}.cbt-modal-content p{line-height:1.8;color:#666;margin-bottom:20px;font-size:1.1rem}.breathing-circle{width:200px;height:200px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);margin:30px auto;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;font-weight:700;box-shadow:0 15px 40px rgba(102,126,234,.5)}.breathing-circle.inhale{animation:breatheIn 4s ease-in-out infinite}.breathing-circle.exhale{animation:breatheOut 4s ease-in-out infinite}@keyframes breatheIn{0%,100%{transform:scale(1)}50%{transform:scale(1.3)}}@keyframes breatheOut{0%,100%{transform:scale(1.3)}50%{transform:scale(1)}}.thought-input{width:100%;padding:15px;border:2px solid #e0e7ff;border-radius:15px;font-family:Poppins,sans-serif;margin:15px 0;font-size:1.05rem}.thought-input:focus{outline:0;border-color:#667eea}.goal-list{list-style:none;padding:0;margin-top:20px}.goal-item{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:15px 20px;border-radius:15px;margin:10px 0;display:flex;justify-content:space-between;align-items:center}.goal-item.completed{opacity:.6;text-decoration:line-through}@media (max-width:768px){.container{padding:10px}.navbar{flex-direction:column;gap:15px;padding:15px}.mood-selector{flex-direction:column;align-items:stretch}.stats-grid,.insights-grid,.resources-grid{grid-template-columns:1fr}.hero{padding:40px 20px}.badges-grid{grid-template-columns:repeat(2,1fr)}}
  </style>
</head>
<body>
  <div class="container">
    <nav class="navbar">
      <div class="nav-brand"><span class="logo">üåà</span><h1>MindMate Pro</h1></div>
      <div class="nav-menu">
        <a class="nav-link active" onclick="showSection('home')">Home</a>
        <a class="nav-link" onclick="showSection('journal')">Journal</a>
        <a class="nav-link" onclick="showSection('resources')">Resources</a>
      </div>
    </nav>

    <div id="crisisBanner" class="crisis-banner hidden">
      <div class="crisis-content">
        <span>üÜò</span>
        <div><strong>Need immediate help?</strong> <a href="tel:988">988</a> | <a href="tel:18005990019">KIRAN: 1800-599-0019</a></div>
      </div>
      <button onclick="closeCrisis()">‚úï</button>
    </div>

    <section id="home" class="hero">
      <div class="streak-card">
        <div class="streak-icon">üî•</div>
        <div><span class="streak-number" id="streakCount">0</span><div class="streak-label">Day Streak</div></div>
      </div>
      <h2>Welcome, Friend! üëã</h2>
      <p class="hero-subtitle">How are you feeling today?</p>
      <div class="mood-selector">
        <button class="mood-btn" onclick="quickMood('great')">üòä<span>Great</span></button>
        <button class="mood-btn" onclick="quickMood('good')">üôÇ<span>Good</span></button>
        <button class="mood-btn" onclick="quickMood('okay')">üòê<span>Okay</span></button>
        <button class="mood-btn" onclick="quickMood('low')">üòî<span>Low</span></button>
        <button class="mood-btn" onclick="quickMood('struggling')">üò¢<span>Struggling</span></button>
      </div>
      <button class="btn-primary" onclick="startSession()">Start Daily Check-in</button>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon">üìä</div><div><span class="stat-value" id="totalSessions">0</span><div class="stat-label">Sessions</div></div></div>
        <div class="stat-card"><div class="stat-icon">üí™</div><div><span class="stat-value" id="resilienceScore">0</span><div class="stat-label">Resilience</div></div></div>
        <div class="stat-card"><div class="stat-icon">üéØ</div><div><span class="stat-value" id="goalsCompleted">0</span><div class="stat-label">Goals</div></div></div>
      </div>
    </section>

    <section id="chatSection" class="chat-section hidden">
      <div class="chat-header">
        <button onclick="endSession()">‚Üê Back</button>
        <div class="chat-status"><span class="status-dot"></span><span>Smart AI Active</span></div>
        <button onclick="showCrisis()">üÜò Help</button>
      </div>
      <div class="chat-container" id="chatMessages"></div>
      <div class="chat-input-area">
        <div class="typing-indicator hidden" id="typingIndicator"><span></span><span></span><span></span></div>
        <div class="input-wrapper">
          <textarea id="messageInput" placeholder="Share your thoughts... (‡§Ø‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç...)"></textarea>
          <button class="btn-voice" id="voiceBtn" onclick="toggleVoice()">üé§</button>
          <button class="btn-send" onclick="sendMessage()">Send</button>
        </div>
        <div class="lang-selector">
          <button class="lang-btn active" data-lang="en" onclick="setLanguage('en')">English</button>
          <button class="lang-btn" data-lang="hi" onclick="setLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
          <button class="lang-btn" data-lang="hinglish" onclick="setLanguage('hinglish')">Hinglish</button>
        </div>
      </div>
    </section>

    <section id="journal" class="insights-section hidden">
      <h2>Your Mental Health Journey üìà</h2>
      <div class="insights-grid">
        <div class="insight-card">
          <h3>CBT Skills üßò</h3>
          <div class="cbt-modules">
            <div class="module-item" onclick="startCBT('breathing')">
              <span class="module-icon">üå¨Ô∏è</span>
              <div><strong>Breathing Exercise</strong><p>5 min guided practice</p></div>
              <button class="btn-small">Start</button>
            </div>
            <div class="module-item" onclick="startCBT('reframing')">
              <span class="module-icon">üí≠</span>
              <div><strong>Thought Reframing</strong><p>Challenge negative thoughts</p></div>
              <button class="btn-small">Start</button>
            </div>
            <div class="module-item" onclick="startCBT('goals')">
              <span class="module-icon">üéØ</span>
              <div><strong>Goal Setting</strong><p>Set achievable targets</p></div>
              <button class="btn-small">Start</button>
            </div>
          </div>
        </div>
        <div class="insight-card">
          <h3>Achievements üèÜ</h3>
          <div class="badges-grid">
            <div class="badge locked" data-badge="3day"><span class="badge-icon">üå±</span><span class="badge-name">Seedling</span></div>
            <div class="badge locked" data-badge="7day"><span class="badge-icon">üåø</span><span class="badge-name">Sprout</span></div>
            <div class="badge locked" data-badge="14day"><span class="badge-icon">üå≥</span><span class="badge-name">Tree</span></div>
            <div class="badge locked" data-badge="30day"><span class="badge-icon">‚≠ê</span><span class="badge-name">Star</span></div>
            <div class="badge locked" data-badge="first"><span class="badge-icon">üéâ</span><span class="badge-name">Starter</span></div>
            <div class="badge locked" data-badge="10sessions"><span class="badge-icon">üíé</span><span class="badge-name">Committed</span></div>
          </div>
        </div>
      </div>
    </section>

    <section id="resources" class="resources-section hidden">
      <h2>Professional Resources üè•</h2>
      <div class="resources-grid">
        <div class="resource-card">
          <span class="resource-icon">üìû</span>
          <h3>Crisis Helplines</h3>
          <ul>
            <li><strong>National:</strong> 988</li>
            <li><strong>KIRAN:</strong> 1800-599-0019</li>
            <li><strong>Vandrevala:</strong> 1860-266-2345</li>
            <li><strong>iCall:</strong> 9152987821</li>
          </ul>
        </div>
        <div class="resource-card">
          <span class="resource-icon">üè•</span>
          <h3>Find Therapist</h3>
          <p>Connect with professionals</p>
          <button class="btn-secondary" onclick="window.open('https://www.practo.com/','_blank')">Search Therapists</button>
        </div>
        <div class="resource-card">
          <span class="resource-icon">üìö</span>
          <h3>Self-Help Resources</h3>
          <ul>
            <li>Anxiety & Panic Guide</li>
            <li>Depression Management</li>
            <li>Stress Reduction</li>
            <li>Sleep Hygiene</li>
          </ul>
        </div>
      </div>
    </section>

    <div id="completionModal" class="modal hidden">
      <div class="modal-overlay" onclick="closeModal()"></div>
      <div class="modal-content">
        <div class="modal-celebration">üéâ</div>
        <h2>Amazing Work!</h2>
        <p>You completed today's check-in</p>
        <div class="modal-stats">
          <div class="modal-stat"><span class="modal-stat-icon">üî•</span><span class="modal-stat-value" id="modalStreak">1</span><span class="modal-stat-label">Streak</span></div>
          <div class="modal-stat"><span class="modal-stat-icon">üí™</span><span class="modal-stat-value">+5</span><span class="modal-stat-label">Resilience</span></div>
        </div>
        <button class="btn-primary" onclick="closeModal()">Continue</button>
      </div>
    </div>

    <div id="cbtModal" class="cbt-modal hidden">
      <div class="modal-overlay" onclick="closeCBTModal()"></div>
      <div class="cbt-modal-content" id="cbtContent"></div>
    </div>
  </div>

  <script>
let state={streak:0,sessions:0,resilience:0,goals:0,lang:'en',history:[],badges:new Set(),currentMood:null,conversationHistory:[]};function load(){const s=localStorage.getItem('mindmate_pro');if(s){const d=JSON.parse(s);Object.assign(state,d);state.badges=new Set(d.badges||[]);state.conversationHistory=d.conversationHistory||[]}updateUI()}function save(){localStorage.setItem('mindmate_pro',JSON.stringify({...state,badges:Array.from(state.badges)}))}function updateUI(){document.getElementById('streakCount').textContent=state.streak;document.getElementById('totalSessions').textContent=state.sessions;document.getElementById('resilienceScore').textContent=state.resilience;document.getElementById('goalsCompleted').textContent=state.goals;updateBadges()}function updateBadges(){const map={'3day':3,'7day':7,'14day':14,'30day':30,'first':1,'10sessions':10};Object.entries(map).forEach(([badge,req])=>{const el=document.querySelector(`[data-badge="${badge}"]`);if(!el)return;const unlocked=(badge.includes('day')&&state.streak>=req)||(badge==='first'&&state.sessions>=1)||(badge==='10sessions'&&state.sessions>=10);if(unlocked){el.classList.remove('locked');el.classList.add('unlocked');state.badges.add(badge)}})}function getSmartResponse(text){const lower=text.toLowerCase();const responses={en:{anxiety:['I can sense you\'re feeling anxious. That must be really uncomfortable. üíô What\'s triggering these feelings?','Anxiety can be overwhelming. I\'m here with you. Can you tell me more about what\'s making you anxious?','I hear you. Anxiety is tough. What specific thoughts are running through your mind right now?'],depression:['I hear that you\'re going through a really tough time. Depression can feel so heavy. What\'s been the hardest part for you?','Thank you for sharing this with me. Depression is a real struggle. How long have you been feeling this way?','Your feelings are valid. Depression affects so many people. What would help you feel even a little bit better right now?'],stress:['It sounds like you\'re under a lot of pressure. Stress can be exhausting. What\'s causing the most stress for you?','I understand stress can feel overwhelming. What\'s the biggest thing weighing on you right now?','Stress affects us all. Let\'s work through this together. What specific situation is stressing you most?'],sleep:['Sleep issues can affect everything in our lives. How long has this been going on?','Not being able to sleep is so frustrating. What do you think might be keeping you awake?','Sleep problems are common but difficult. What happens when you try to sleep?'],work:['Work challenges can be really draining. What\'s happening at work that\'s bothering you?','I hear you. Work stress is real. Can you tell me more about the situation?','Work issues can affect our whole life. What specifically is difficult at work right now?'],family:['Family situations can be complex and emotional. What\'s going on with your family?','Family relationships can be challenging. Do you want to talk about what\'s happening?','I\'m here to listen. What\'s the family situation that\'s troubling you?'],relationship:['Relationship issues can be really painful. Do you want to talk about what\'s happening?','I hear you. Relationships are complicated. What\'s going on in your relationship?','Thank you for trusting me with this. What\'s been most difficult in your relationship?'],study:['Academic pressure can be really intense. What\'s stressing you about your studies?','I understand exam stress. What subject or exam is worrying you most?','Study pressure is real. How can I support you with this?'],positive:['That\'s wonderful to hear! üåü I\'m so happy for you! What made today special?','Your positive energy is beautiful! Tell me more about what brought you joy!','I love hearing this! What was the best part of your day?','That sounds amazing! What are you most grateful for right now?'],general:['I\'m here to listen. Can you tell me more about what you\'re feeling?','Thank you for sharing with me. What\'s been on your mind lately?','I want to understand better. Can you describe what you\'re experiencing?','Your feelings matter. What would you like to talk about?']},hi:{anxiety:['‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ üíô ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•ã ‡§™‡§∞‡•á‡§∂‡§æ‡§® ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à?','‡§ö‡§ø‡§Ç‡§§‡§æ ‡§¨‡§π‡•Å‡§§ ‡§ï‡§†‡§ø‡§® ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Ç ‡§π‡•Ç‡§Ç‡•§ ‡§î‡§∞ ‡§¨‡§§‡§æ‡§á‡§è?','‡§Ü‡§™‡§ï‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Ç ‡§∏‡§π‡•Ä ‡§π‡•à‡§Ç‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à?'],depression:['‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§∏‡§Æ‡§Ø ‡§∏‡•á ‡§ó‡•Å‡§ú‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§¨‡§∏‡•á ‡§ï‡§†‡§ø‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?','‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§è‡§ï ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑ ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§ï‡§¨ ‡§∏‡•á ‡§ê‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?','‡§Ü‡§™‡§ï‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Ç ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§π‡•à‡§Ç‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•ã ‡§¨‡•á‡§π‡§§‡§∞ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§Æ‡§ø‡§≤‡•á‡§ó‡•Ä?'],stress:['‡§≤‡§ó‡§§‡§æ ‡§π‡•à ‡§Ü‡§™ ‡§¨‡§π‡•Å‡§§ ‡§¶‡§¨‡§æ‡§µ ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç‡•§ ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§§‡§®‡§æ‡§µ ‡§ï‡§ø‡§∏ ‡§¨‡§æ‡§§ ‡§ï‡§æ ‡§π‡•à?','‡§§‡§®‡§æ‡§µ ‡§•‡§ï‡§æ‡§ä ‡§π‡•ã ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§™‡§∞‡•á‡§∂‡§æ‡§® ‡§ï‡§∞ ‡§∞‡§π‡§æ ‡§π‡•à?','‡§Ü‡§á‡§è ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§á‡§∏‡•á ‡§π‡§≤ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§§‡§®‡§æ‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à?'],positive:['‡§Ø‡§π ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó‡§æ! üåü ‡§Ü‡§ú ‡§ï‡•ç‡§Ø‡§æ ‡§ñ‡§æ‡§∏ ‡§∞‡§π‡§æ?','‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•Å‡§∂‡•Ä ‡§¶‡•á‡§ñ‡§ï‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§≠‡•Ä ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó ‡§∞‡§π‡§æ ‡§π‡•à! ‡§î‡§∞ ‡§¨‡§§‡§æ‡§á‡§è?','‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ! ‡§Ü‡§™‡§ï‡•á ‡§¶‡§ø‡§® ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§∞‡§π‡§æ?'],general:['‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Ç ‡§∏‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Ç‡•§ ‡§î‡§∞ ‡§¨‡§§‡§æ‡§á‡§è ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?','‡§Ü‡§™‡§ï‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Ç ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡§Ç‡•§ ‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?']},hinglish:{anxiety:['Main samajh sakta hoon ki tum anxious feel kar rahe ho‡•§ üíô Kya pareshan kar raha hai?','Anxiety bahut tough hoti hai‡•§ Main yahan hoon‡•§ Aur batao?','Tumhari feelings valid hain‡•§ Specifically kya tumhe anxious kar raha hai?'],depression:['Main samajhta hoon ki tum tough time se guzar rahe ho‡•§ Sabse hard kya hai?','Depression ek real struggle hai‡•§ Tum kab se aisa feel kar rahe ho?','Tumhari feelings matter karti hain‡•§ Kya tumhe better feel karne mein help milegi?'],stress:['Lagta hai tum bahut pressure mein ho‡•§ Sabse zyada stress kis baat ka hai?','Stress exhausting ho sakta hai‡•§ Kya tumhe sabse zyada pareshan kar raha hai?','Chalo milke solve karte hain‡•§ Kaun si situation sabse zyada stressful hai?'],positive:['Yeh sunke bahut accha laga! üåü Aaj kya special hua?','Tumhari khushi dekh ke mujhe bhi accha lag raha hai! Aur batao?','Bahut badhiya! Tumhare din ka best part kya raha?'],general:['Main yahan hoon sunne ke liye‡•§ Aur batao kya feel kar rahe ho?','Tumhari feelings important hain‡•§ Kya baat karni hai?']}};const lang=state.lang;const r=responses[lang]||responses.en;if(lower.includes('suicide')||lower.includes('kill myself')||lower.includes('end it')||lower.includes('‡§Æ‡§∞‡§®‡§æ')||lower.includes('‡§ñ‡•Å‡§¶‡§ï‡•Å‡§∂‡•Ä')||lower.includes('mar jaana')){showCrisis();return lang==='hi'?'‡§Æ‡•Å‡§ù‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§π‡•Å‡§§ ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Æ‡§¶‡§¶ ‡§≤‡•á‡§Ç: 988 ‡§Ø‡§æ KIRAN 1800-599-0019':lang==='hinglish'?'Mujhe tumhari bahut chinta hai‡•§ Please turant help lo: 988 ya KIRAN 1800-599-0019':'I\'m very concerned about you. Please get immediate help: 988 or KIRAN 1800-599-0019'}if(lower.includes('anxious')||lower.includes('anxiety')||lower.includes('panic')||lower.includes('worried')||lower.includes('‡§ö‡§ø‡§Ç‡§§‡§æ')||lower.includes('tension'))return r.anxiety[Math.floor(Math.random()*r.anxiety.length)];if(lower.includes('depress')||lower.includes('hopeless')||lower.includes('sad')||lower.includes('‡§â‡§¶‡§æ‡§∏')||lower.includes('dukhi'))return r.depression[Math.floor(Math.random()*r.depression.length)];if(lower.includes('stress')||lower.includes('pressure')||lower.includes('overwhelm')||lower.includes('‡§¶‡§¨‡§æ‡§µ')||lower.includes('pareshan'))return r.stress[Math.floor(Math.random()*r.stress.length)];if(lower.includes('sleep')||lower.includes('insomnia')||lower.includes('tired')||lower.includes('‡§®‡•Ä‡§Ç‡§¶')||lower.includes('neend'))return r.sleep[Math.floor(Math.random()*r.sleep.length)];if(lower.includes('work')||lower.includes('job')||lower.includes('office')||lower.includes('boss')||lower.includes('‡§ï‡§æ‡§Æ')||lower.includes('kaam'))return r.work[Math.floor(Math.random()*r.work.length)];if(lower.includes('family')||lower.includes('parents')||lower.includes('mom')||lower.includes('dad')||lower.includes('‡§™‡§∞‡§ø‡§µ‡§æ‡§∞')||lower.includes('maa')||lower.includes('papa'))return r.family[Math.floor(Math.random()*r.family.length)];if(lower.includes('relationship')||lower.includes('boyfriend')||lower.includes('girlfriend')||lower.includes('partner')||lower.includes('breakup')||lower.includes('love'))return r.relationship[Math.floor(Math.random()*r.relationship.length)];if(lower.includes('study')||lower.includes('exam')||lower.includes('college')||lower.includes('marks')||lower.includes('‡§™‡§¢‡§º‡§æ‡§à')||lower.includes('padhai'))return r.study[Math.floor(Math.random()*r.study.length)];if(lower.includes('good')||lower.includes('great')||lower.includes('happy')||lower.includes('wonderful')||lower.includes('amazing')||lower.includes('excellent')||lower.includes('accha')||lower.includes('khush')||lower.includes('badhiya')||lower.includes('mast'))return r.positive[Math.floor(Math.random()*r.positive.length)];return r.general[Math.floor(Math.random()*r.general.length)]}function addMessage(text,isUser=false){const container=document.getElementById('chatMessages');const div=document.createElement('div');div.className=`message ${isUser?'user-message':'ai-message'}`;if(!isUser){const avatar=document.createElement('div');avatar.className='message-avatar';avatar.textContent='ü§ó';div.appendChild(avatar)}const content=document.createElement('div');content.className='message-content';content.textContent=text;div.appendChild(content);container.appendChild(div);container.scrollTop=container.scrollHeight;state.history.push({text,isUser,time:Date.now()})}function sendMessage(){const input=document.getElementById('messageInput');const text=input.value.trim();if(!text)return;addMessage(text,true);input.value='';input.style.height='60px';document.getElementById('typingIndicator').classList.remove('hidden');setTimeout(()=>{document.getElementById('typingIndicator').classList.add('hidden');const aiResponse=getSmartResponse(text);addMessage(aiResponse);save()},1500)}function startSession(){document.getElementById('home').style.display='none';document.getElementById('chatSection').classList.remove('hidden');state.history=[];state.conversationHistory=[];const greetings={en:'Hello! I\'m MindMate, your caring companion. I\'m here to listen and support you without judgment. How are you feeling today? üòä',hi:'‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç MindMate ‡§π‡•Ç‡§Ç, ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§•‡•Ä‡•§ ‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Ç ‡§¨‡§ø‡§®‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•á ‡§Ü‡§™‡§ï‡•Ä ‡§¨‡§æ‡§§ ‡§∏‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Ç‡•§ ‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç? üòä',hinglish:'Hey! Main MindMate hoon, tumhara caring companion‡•§ Main yahan hoon bina kisi judgment ke tumhari baat sunne ke liye‡•§ Aaj kaisa feel kar rahe ho? üòä'};setTimeout(()=>addMessage(greetings[state.lang]),500)}function endSession(){if(confirm('End this session?')){completeSession()}}function completeSession(){const today=new Date().toDateString();const last=state.lastDate;if(last){const yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);if(last===yesterday.toDateString())state.streak++;else if(last!==today)state.streak=1}else state.streak=1;state.lastDate=today;state.sessions++;state.resilience=Math.min(100,state.resilience+5);save();updateUI();document.getElementById('modalStreak').textContent=state.streak;document.getElementById('completionModal').classList.remove('hidden')}function closeModal(){document.getElementById('completionModal').classList.add('hidden');document.getElementById('chatSection').classList.add('hidden');document.getElementById('home').style.display='block'}function quickMood(mood){state.currentMood=mood;if(mood==='struggling')showCrisis();startSession()}function setLanguage(lang){state.lang=lang;document.querySelectorAll('.lang-btn').forEach(btn=>btn.classList.toggle('active',btn.dataset.lang===lang));save()}function toggleVoice(){const btn=document.getElementById('voiceBtn');if('webkitSpeechRecognition'in window){const r=new webkitSpeechRecognition();r.lang=state.lang==='hi'?'hi-IN':'en-US';r.continuous=false;btn.classList.add('listening');r.onresult=e=>{document.getElementById('messageInput').value=e.results[0][0].transcript;btn.classList.remove('listening')};r.onerror=()=>btn.classList.remove('listening');r.onend=()=>btn.classList.remove('listening');r.start()}else alert('Voice not supported. Use Chrome/Edge.')}function showCrisis(){document.getElementById('crisisBanner').classList.remove('hidden');window.scrollTo({top:0,behavior:'smooth'})}function closeCrisis(){document.getElementById('crisisBanner').classList.add('hidden')}function showSection(section){document.querySelectorAll('.hero,.insights-section,.resources-section').forEach(s=>s.classList.add('hidden'));document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active'));if(section==='home')document.querySelector('.hero').classList.remove('hidden');else if(section==='journal')document.getElementById('journal').classList.remove('hidden');else if(section==='resources')document.getElementById('resources').classList.remove('hidden');event.target.classList.add('active')}function startCBT(type){const modal=document.getElementById('cbtModal');const content=document.getElementById('cbtContent');modal.classList.remove('hidden');if(type==='breathing'){content.innerHTML=`<h2>üå¨Ô∏è Breathing Exercise</h2><p>Let's practice deep breathing to calm your nervous system.</p><div class="breathing-circle inhale" id="breathCircle">Breathe In</div><p><strong>Follow the circle:</strong></p><p>‚Ä¢ Breathe IN slowly (4 seconds) - Circle grows</p><p>‚Ä¢ Hold your breath (4 seconds)</p><p>‚Ä¢ Breathe OUT slowly (4 seconds) - Circle shrinks</p><p>‚Ä¢ Repeat for 5 minutes</p><button class="btn-primary" onclick="closeCBTModal()">Complete Exercise</button>`;setTimeout(()=>{const circle=document.getElementById('breathCircle');let isInhale=true;setInterval(()=>{circle.textContent=isInhale?'Breathe In':'Breathe Out';circle.className=isInhale?'breathing-circle inhale':'breathing-circle exhale';isInhale=!isInhale},4000)},100)}else if(type==='reframing'){content.innerHTML=`<h2>üí≠ Thought Reframing</h2><p>Let's challenge negative thoughts using CBT techniques.</p><p><strong>Write your negative thought:</strong></p><textarea class="thought-input" id="negThought" placeholder="e.g., I'm not good enough..."></textarea><p><strong>What evidence contradicts this thought?</strong></p><textarea class="thought-input" id="posThought" placeholder="e.g., I completed my project successfully..."></textarea><p><strong>What would you tell a friend with this thought?</strong></p><textarea class="thought-input" id="friendThought" placeholder="Your compassionate response..."></textarea><button class="btn-primary" onclick="saveReframing()">Save Reframing</button> <button class="btn-secondary" onclick="closeCBTModal()">Close</button>`}else if(type==='goals'){content.innerHTML=`<h2>üéØ Goal Setting</h2><p>Set small, achievable wellness goals.</p><p><strong>What's one goal you can achieve today?</strong></p><textarea class="thought-input" id="goalInput" placeholder="e.g., Take a 10-minute walk outside..."></textarea><button class="btn-primary" onclick="addGoal()">Add Goal</button><div id="goalsList" class="goal-list"></div><button class="btn-secondary" onclick="closeCBTModal()">Close</button>`}}function closeCBTModal(){document.getElementById('cbtModal').classList.add('hidden');state.goals++;save();updateUI()}function saveReframing(){const neg=document.getElementById('negThought').value;const pos=document.getElementById('posThought').value;const friend=document.getElementById('friendThought').value;if(neg&&pos&&friend){alert('Excellent work! You\'ve successfully reframed your thought. Remember this technique when negative thoughts arise.');closeCBTModal()}else alert('Please fill in all three fields to complete the exercise.')}function addGoal(){const input=document.getElementById('goalInput');const goal=input.value.trim();if(goal){const list=document.getElementById('goalsList');const item=document.createElement('div');item.className='goal-item';item.innerHTML=`<span>${goal}</span><button class="btn-small" onclick="completeGoal(this)">‚úì Complete</button>`;list.appendChild(item);input.value='';alert('Goal added! Click the checkmark when you complete it.')}else alert('Please enter a goal first.')}function completeGoal(btn){btn.parentElement.classList.add('completed');state.goals++;save();updateUI();setTimeout(()=>btn.parentElement.remove(),2000)}load();document.getElementById('messageInput')?.addEventListener('keypress',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage()}});document.getElementById('messageInput')?.addEventListener('input',function(){this.style.height='60px';this.style.height=(this.scrollHeight)+'px'});
  </script>
</body>
</html>
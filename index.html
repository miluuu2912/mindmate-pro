<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MindMate Pro - Dost AI Companion</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}body{font-family:Poppins,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;animation:float 20s ease-in-out infinite}@keyframes float{0%,100%{transform:translate(0,0)}50%{transform:translate(30px,30px)}}.container{max-width:1400px;margin:0 auto;padding:20px;position:relative;z-index:1}.login-container{max-width:500px;margin:100px auto;background:rgba(255,255,255,.98);padding:60px;border-radius:35px;box-shadow:0 25px 70px rgba(0,0,0,.2);animation:fadeInUp .8s ease}@keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header{text-align:center;margin-bottom:40px}.login-logo{font-size:4rem;margin-bottom:15px}.login-header h1{font-size:2.5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800;margin-bottom:10px}.login-header p{color:#666;font-size:1.1rem}.form-group{margin-bottom:25px}.form-label{display:block;color:#667eea;font-weight:600;margin-bottom:8px;font-size:1rem}.form-input{width:100%;padding:15px 20px;border:3px solid #e0e7ff;border-radius:15px;font-family:Poppins,sans-serif;font-size:1.05rem;transition:all .3s;background:#fff}.form-input:focus{outline:0;border-color:#667eea;box-shadow:0 0 20px rgba(102,126,234,.2)}.form-input::placeholder{color:#999}.btn-login{width:100%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:18px;font-size:1.2rem;font-weight:700;border-radius:20px;cursor:pointer;box-shadow:0 10px 30px rgba(102,126,234,.4);transition:all .3s;margin-top:10px}.btn-login:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(102,126,234,.6)}.error-message{color:#ff6b6b;font-size:.9rem;margin-top:5px;display:none}.navbar{background:rgba(255,255,255,.95);padding:20px 40px;border-radius:20px;display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;box-shadow:0 15px 50px rgba(0,0,0,.15);backdrop-filter:blur(10px)}.nav-brand{display:flex;align-items:center;gap:12px}.logo{font-size:2.5rem;animation:rotate 3s ease-in-out infinite}@keyframes rotate{0%,100%{transform:rotate(0deg)}50%{transform:rotate(10deg)}}.nav-brand h1{font-size:1.8rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800}.nav-menu{display:flex;gap:25px;align-items:center}.nav-link{text-decoration:none;color:#666;font-weight:600;transition:all .3s;padding:8px 16px;border-radius:10px;cursor:pointer}.nav-link:hover{color:#667eea;background:rgba(102,126,234,.1);transform:translateY(-2px)}.nav-link.active{color:#667eea;background:rgba(102,126,234,.1)}.btn-logout{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;border:none;padding:10px 20px;border-radius:10px;cursor:pointer;font-weight:600;transition:all .3s}.btn-logout:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(255,107,107,.4)}.crisis-banner{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff;padding:20px 40px;border-radius:15px;margin-bottom:25px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 10px 30px rgba(255,107,107,.4)}.crisis-content{display:flex;gap:20px;align-items:center;flex:1}.crisis-content a{color:#fff;font-weight:700;text-decoration:none;padding:8px 16px;background:rgba(255,255,255,.2);border-radius:8px;transition:all .3s}.crisis-content a:hover{background:rgba(255,255,255,.3)}.crisis-banner button{background:rgba(255,255,255,.2);border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:8px 12px;border-radius:8px}.hero{background:rgba(255,255,255,.95);padding:80px 60px;border-radius:35px;text-align:center;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.greeting-section{margin-bottom:40px}.greeting-time{font-size:1.3rem;color:#666;margin-bottom:10px}.greeting-icon{font-size:3rem;margin-bottom:15px}.streak-card{display:inline-flex;align-items:center;gap:20px;background:linear-gradient(135deg,#f093fb,#f5576c);padding:25px 50px;border-radius:60px;color:#fff;margin-bottom:35px;box-shadow:0 15px 40px rgba(240,147,251,.5)}.streak-icon{font-size:3.5rem;animation:flame 1.5s ease-in-out infinite}@keyframes flame{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.streak-number{font-size:3rem;font-weight:800}.streak-label{font-size:1rem;font-weight:600}.hero h2{font-size:3rem;color:#667eea;margin-bottom:15px;font-weight:800}.hero-subtitle{font-size:1.4rem;color:#666;margin-bottom:50px;font-weight:500}.mood-selector{display:flex;gap:20px;justify-content:center;margin-bottom:50px;flex-wrap:wrap}.mood-btn{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border:3px solid transparent;padding:25px;border-radius:25px;cursor:pointer;transition:all .4s;display:flex;flex-direction:column;align-items:center;gap:12px;font-size:2.5rem;min-width:110px}.mood-btn:hover{transform:translateY(-8px);border-color:#667eea;box-shadow:0 15px 40px rgba(102,126,234,.4)}.mood-btn span{font-size:1rem;font-weight:700;color:#667eea}.btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:22px 60px;font-size:1.3rem;font-weight:700;border-radius:60px;cursor:pointer;box-shadow:0 15px 40px rgba(102,126,234,.5);transition:all .4s}.btn-primary:hover{transform:translateY(-5px);box-shadow:0 20px 50px rgba(102,126,234,.6)}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px;margin-top:50px}.stat-card{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:35px;border-radius:25px;display:flex;align-items:center;gap:25px;transition:all .4s;cursor:pointer}.stat-card:hover{transform:translateY(-8px);box-shadow:0 15px 40px rgba(102,126,234,.3)}.stat-icon{font-size:3.5rem}.stat-value{font-size:3rem;font-weight:800;color:#667eea}.stat-label{font-size:1rem;color:#666;font-weight:600}.chat-section{background:rgba(255,255,255,.95);border-radius:35px;padding:35px;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.chat-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:25px;border-bottom:3px solid #f0f0f0;margin-bottom:25px}.chat-header button{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border:none;font-size:1.1rem;cursor:pointer;padding:12px 24px;border-radius:12px;transition:all .3s;font-weight:600;color:#667eea}.chat-header button:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;transform:translateY(-2px)}.chat-status{display:flex;align-items:center;gap:10px;color:#10b981;font-weight:700;font-size:1.1rem}.status-dot{width:12px;height:12px;background:#10b981;border-radius:50%;animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.chat-container{height:550px;overflow-y:auto;padding:25px;background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border-radius:25px;margin-bottom:25px;scroll-behavior:smooth}.chat-container::-webkit-scrollbar{width:8px}.chat-container::-webkit-scrollbar-track{background:rgba(102,126,234,.1);border-radius:10px}.chat-container::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px}.message{margin-bottom:25px;display:flex;gap:12px;animation:slideIn .5s ease}@keyframes slideIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.user-message{justify-content:flex-end}.message-avatar{width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;background:linear-gradient(135deg,#667eea,#764ba2);flex-shrink:0;box-shadow:0 5px 15px rgba(102,126,234,.4)}.message-content{max-width:75%;padding:18px 24px;border-radius:25px;line-height:1.7;font-size:1.05rem;font-weight:500;white-space:pre-wrap}.ai-message .message-content{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom-left-radius:8px;box-shadow:0 8px 20px rgba(102,126,234,.3)}.user-message .message-content{background:#fff;color:#333;border-bottom-right-radius:8px;box-shadow:0 8px 20px rgba(0,0,0,.1)}.chat-input-area{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);border-radius:25px;padding:20px}.input-wrapper{display:flex;gap:12px;align-items:flex-end;margin-bottom:15px}#messageInput{flex:1;border:3px solid #e0e7ff;border-radius:20px;padding:15px 20px;font-family:Poppins,sans-serif;resize:none;min-height:60px;max-height:150px;transition:all .3s;font-size:1.05rem;background:#fff}#messageInput:focus{outline:0;border-color:#667eea;box-shadow:0 0 20px rgba(102,126,234,.2)}.btn-voice{background:linear-gradient(135deg,#f093fb,#f5576c);border:none;width:60px;height:60px;border-radius:50%;cursor:pointer;transition:all .3s;font-size:1.5rem;box-shadow:0 8px 20px rgba(240,147,251,.4)}.btn-voice:hover{transform:scale(1.15)}.btn-voice.listening{animation:pulseVoice 1s infinite}@keyframes pulseVoice{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}.btn-send{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:15px 35px;border-radius:20px;font-weight:700;cursor:pointer;font-size:1.1rem;transition:all .3s;box-shadow:0 8px 20px rgba(102,126,234,.4)}.btn-send:hover{transform:translateY(-3px)}.insights-section,.resources-section{background:rgba(255,255,255,.95);border-radius:35px;padding:50px;box-shadow:0 25px 70px rgba(0,0,0,.2);margin-bottom:35px}.insights-section h2,.resources-section h2{text-align:center;font-size:2.5rem;color:#667eea;margin-bottom:40px;font-weight:800}.insights-grid,.resources-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:30px}.insight-card,.resource-card{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:40px;border-radius:25px;transition:all .4s;cursor:pointer}.insight-card:hover,.resource-card:hover{transform:translateY(-8px);box-shadow:0 15px 40px rgba(102,126,234,.3)}.insight-card h3,.resource-card h3{color:#667eea;margin-bottom:25px;font-size:1.6rem;font-weight:700}.cbt-modules{display:flex;flex-direction:column;gap:20px}.module-item{display:flex;align-items:center;gap:20px;background:#fff;padding:20px;border-radius:20px;transition:all .3s;cursor:pointer}.module-item:hover{transform:translateX(8px);box-shadow:0 8px 20px rgba(102,126,234,.2)}.module-icon{font-size:2.5rem}.module-item strong{display:block;color:#667eea;font-size:1.2rem;margin-bottom:5px}.module-item p{font-size:.95rem;color:#666}.btn-small{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:10px 25px;border-radius:12px;cursor:pointer;font-weight:700;transition:all .3s}.btn-small:hover{transform:translateY(-2px)}.badges-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.badge{text-align:center;padding:20px;background:#fff;border-radius:20px;filter:grayscale(100%);opacity:.4;transition:all .4s}.badge.unlocked{filter:grayscale(0%);opacity:1;animation:badgeUnlock .6s ease}@keyframes badgeUnlock{0%{transform:scale(0) rotate(-180deg)}100%{transform:scale(1) rotate(0)}}.badge-icon{font-size:3rem;display:block;margin-bottom:8px}.badge-name{font-size:.9rem;color:#667eea;font-weight:700}.resource-icon{font-size:4rem;display:block;margin-bottom:20px}.resource-card ul{list-style:none;padding:0}.resource-card li{padding:12px 0;border-bottom:2px solid rgba(102,126,234,.15);font-weight:500}.btn-secondary{background:#fff;color:#667eea;border:3px solid #667eea;padding:15px 35px;border-radius:15px;cursor:pointer;font-weight:700;margin-top:20px;transition:all .3s}.btn-secondary:hover{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent;transform:translateY(-3px)}.modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);backdrop-filter:blur(5px)}.modal-content{position:relative;background:#fff;padding:60px;border-radius:35px;text-align:center;max-width:550px;box-shadow:0 30px 80px rgba(0,0,0,.3)}.modal-celebration{font-size:6rem;margin-bottom:25px}.modal-content h2{font-size:2.5rem;color:#667eea;margin-bottom:25px;font-weight:800}.modal-stats{display:flex;gap:40px;justify-content:center;margin:35px 0}.modal-stat{display:flex;flex-direction:column;align-items:center}.modal-stat-icon{font-size:2.5rem;margin-bottom:10px}.modal-stat-value{font-size:2.5rem;font-weight:800;color:#667eea}.modal-stat-label{font-size:.95rem;color:#666;font-weight:600}.hidden{display:none!important}.typing-indicator{display:flex;gap:8px;padding:15px;margin-bottom:15px;justify-content:center}.typing-indicator span{width:10px;height:10px;background:#667eea;border-radius:50%;animation:typing 1.4s infinite}@keyframes typing{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-12px)}}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}.cbt-modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1000}.cbt-modal-content{position:relative;background:#fff;padding:50px;border-radius:35px;max-width:700px;max-height:80vh;overflow-y:auto;box-shadow:0 30px 80px rgba(0,0,0,.3)}.cbt-modal-content h2{color:#667eea;font-size:2rem;margin-bottom:25px;font-weight:800}.cbt-modal-content p{line-height:1.8;color:#666;margin-bottom:20px;font-size:1.1rem}.breathing-circle{width:200px;height:200px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);margin:30px auto;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;font-weight:700;box-shadow:0 15px 40px rgba(102,126,234,.5)}.breathing-circle.inhale{animation:breatheIn 4s ease-in-out infinite}.breathing-circle.exhale{animation:breatheOut 4s ease-in-out infinite}@keyframes breatheIn{0%,100%{transform:scale(1)}50%{transform:scale(1.3)}}@keyframes breatheOut{0%,100%{transform:scale(1.3)}50%{transform:scale(1)}}.thought-input{width:100%;padding:15px;border:2px solid #e0e7ff;border-radius:15px;font-family:Poppins,sans-serif;margin:15px 0;font-size:1.05rem}.thought-input:focus{outline:0;border-color:#667eea}.goal-list{list-style:none;padding:0;margin-top:20px}.goal-item{background:linear-gradient(135deg,#f8f9ff,#e0e7ff);padding:15px 20px;border-radius:15px;margin:10px 0;display:flex;justify-content:space-between;align-items:center}.goal-item.completed{opacity:.6;text-decoration:line-through}@media (max-width:768px){.container{padding:10px}.navbar{flex-direction:column;gap:15px;padding:15px}.mood-selector{flex-direction:column;align-items:stretch}.stats-grid,.insights-grid,.resources-grid{grid-template-columns:1fr}.hero{padding:40px 20px}.badges-grid{grid-template-columns:repeat(2,1fr)}.login-container{padding:40px 30px;margin:50px auto}}
  </style>
</head>
<body>
  <div id="loginPage" class="login-container">
    <div class="login-header">
      <div class="login-logo">üåà</div>
      <h1>Welcome to MindMate Pro</h1>
      <p>Your personal mental health companion</p>
    </div>
    <form id="loginForm" onsubmit="handleLogin(event)">
      <div class="form-group">
        <label class="form-label">Your Name</label>
        <input type="text" id="userName" class="form-input" placeholder="Enter your name" required>
        <span class="error-message" id="nameError">Please enter your name</span>
      </div>
      <div class="form-group">
        <label class="form-label">Your Age</label>
        <input type="number" id="userAge" class="form-input" placeholder="Enter your age" min="13" max="100" required>
        <span class="error-message" id="ageError">Age must be between 13 and 100</span>
      </div>
      <div class="form-group">
        <label class="form-label">Your Email</label>
        <input type="email" id="userEmail" class="form-input" placeholder="Enter your email" required>
        <span class="error-message" id="emailError">Please enter a valid email</span>
      </div>
      <button type="submit" class="btn-login">Get Started üöÄ</button>
    </form>
  </div>

  <div id="mainApp" class="container hidden">
    <nav class="navbar">
      <div class="nav-brand"><span class="logo">üåà</span><h1>MindMate Pro</h1></div>
      <div class="nav-menu">
        <a class="nav-link active" onclick="showSection('home')">Home</a>
        <a class="nav-link" onclick="showSection('journal')">Journal</a>
        <a class="nav-link" onclick="showSection('resources')">Resources</a>
        <button class="btn-logout" onclick="handleLogout()">Logout</button>
      </div>
    </nav>

    <div id="crisisBanner" class="crisis-banner hidden">
      <div class="crisis-content">
        <span>üÜò</span>
        <div><strong>Need immediate help?</strong> <a href="tel:988">988</a> | <a href="tel:18005990019">KIRAN: 1800-599-0019</a></div>
      </div>
      <button onclick="closeCrisis()">‚úï</button>
    </div>

    <section id="home" class="hero">
      <div class="greeting-section">
        <div class="greeting-icon" id="greetingIcon">üåÖ</div>
        <div class="greeting-time" id="greetingTime">Good Morning</div>
        <h2 id="greetingName">Welcome, Friend! üëã</h2>
      </div>
      <div class="streak-card">
        <div class="streak-icon">üî•</div>
        <div><span class="streak-number" id="streakCount">0</span><div class="streak-label">Day Streak</div></div>
      </div>
      <p class="hero-subtitle">How are you feeling today?</p>
      <div class="mood-selector">
        <button class="mood-btn" onclick="quickMood('great')">üòä<span>Great</span></button>
        <button class="mood-btn" onclick="quickMood('good')">üôÇ<span>Good</span></button>
        <button class="mood-btn" onclick="quickMood('okay')">üòê<span>Okay</span></button>
        <button class="mood-btn" onclick="quickMood('low')">üòî<span>Low</span></button>
        <button class="mood-btn" onclick="quickMood('struggling')">üò¢<span>Struggling</span></button>
      </div>
      <button class="btn-primary" onclick="startSession()">Start Daily Check-in</button>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon">üìä</div><div><span class="stat-value" id="totalSessions">0</span><div class="stat-label">Sessions</div></div></div>
        <div class="stat-card"><div class="stat-icon">üí™</div><div><span class="stat-value" id="resilienceScore">0</span><div class="stat-label">Resilience</div></div></div>
        <div class="stat-card"><div class="stat-icon">üéØ</div><div><span class="stat-value" id="goalsCompleted">0</span><div class="stat-label">Goals</div></div></div>
      </div>
    </section>

    <section id="chatSection" class="chat-section hidden">
      <div class="chat-header">
        <button onclick="endSession()">‚Üê Back</button>
        <div class="chat-status"><span class="status-dot"></span><span>Dost AI (Grok Powered)</span></div>
        <button onclick="showCrisis()">üÜò Help</button>
      </div>
      <div class="chat-container" id="chatMessages"></div>
      <div class="chat-input-area">
        <div class="typing-indicator hidden" id="typingIndicator"><span></span><span></span><span></span></div>
        <div class="input-wrapper">
          <textarea id="messageInput" placeholder="Apne dil ki baat share karein..."></textarea>
          <button class="btn-voice" id="voiceBtn" onclick="toggleVoice()">üé§</button>
          <button class="btn-send" onclick="sendMessage()">Send</button>
        </div>
      </div>
    </section>

    <section id="journal" class="insights-section hidden">
      <h2>Your Mental Health Journey üìà</h2>
      <div class="insights-grid">
        <div class="insight-card">
          <h3>CBT Skills üßò</h3>
          <div class="cbt-modules">
            <div class="module-item" onclick="startCBT('breathing')">
              <span class="module-icon">üå¨Ô∏è</span>
              <div><strong>Breathing Exercise</strong><p>5 min guided practice</p></div>
              <button class="btn-small">Start</button>
            </div>
            <div class="module-item" onclick="startCBT('reframing')">
              <span class="module-icon">üí≠</span>
              <div><strong>Thought Reframing</strong><p>Challenge negative thoughts</p></div>
              <button class="btn-small">Start</button>
            </div>
            <div class="module-item" onclick="startCBT('goals')">
              <span class="module-icon">üéØ</span>
              <div><strong>Goal Setting</strong><p>Set achievable targets</p></div>
              <button class="btn-small">Start</button>
            </div>
          </div>
        </div>
        <div class="insight-card">
          <h3>Achievements üèÜ</h3>
          <div class="badges-grid">
            <div class="badge locked" data-badge="3day"><span class="badge-icon">üå±</span><span class="badge-name">Seedling</span></div>
            <div class="badge locked" data-badge="7day"><span class="badge-icon">üåø</span><span class="badge-name">Sprout</span></div>
            <div class="badge locked" data-badge="14day"><span class="badge-icon">üå≥</span><span class="badge-name">Tree</span></div>
            <div class="badge locked" data-badge="30day"><span class="badge-icon">‚≠ê</span><span class="badge-name">Star</span></div>
            <div class="badge locked" data-badge="first"><span class="badge-icon">üéâ</span><span class="badge-name">Starter</span></div>
            <div class="badge locked" data-badge="10sessions"><span class="badge-icon">üíé</span><span class="badge-name">Committed</span></div>
          </div>
        </div>
      </div>
    </section>

    <section id="resources" class="resources-section hidden">
      <h2>Professional Resources üè•</h2>
      <div class="resources-grid">
        <div class="resource-card">
          <span class="resource-icon">üìû</span>
          <h3>Crisis Helplines</h3>
          <ul>
            <li><strong>National:</strong> 988</li>
            <li><strong>KIRAN:</strong> 1800-599-0019</li>
            <li><strong>Vandrevala:</strong> 1860-266-2345</li>
            <li><strong>iCall:</strong> 9152987821</li>
          </ul>
        </div>
        <div class="resource-card">
          <span class="resource-icon">üè•</span>
          <h3>Find Therapist</h3>
          <p>Connect with professionals</p>
          <button class="btn-secondary" onclick="window.open('https://www.practo.com/','_blank')">Search Therapists</button>
        </div>
        <div class="resource-card">
          <span class="resource-icon">üìö</span>
          <h3>Self-Help Resources</h3>
          <ul>
            <li>Anxiety & Panic Guide</li>
            <li>Depression Management</li>
            <li>Stress Reduction</li>
            <li>Sleep Hygiene</li>
          </ul>
        </div>
      </div>
    </section>

    <div id="completionModal" class="modal hidden">
      <div class="modal-overlay" onclick="closeModal()"></div>
      <div class="modal-content">
        <div class="modal-celebration">üéâ</div>
        <h2>Amazing Work!</h2>
        <p>You completed today's check-in</p>
        <div class="modal-stats">
          <div class="modal-stat"><span class="modal-stat-icon">üî•</span><span class="modal-stat-value" id="modalStreak">1</span><span class="modal-stat-label">Streak</span></div>
          <div class="modal-stat"><span class="modal-stat-icon">üí™</span><span class="modal-stat-value">+5</span><span class="modal-stat-label">Resilience</span></div>
        </div>
        <button class="btn-primary" onclick="closeModal()">Continue</button>
      </div>
    </div>

    <div id="cbtModal" class="cbt-modal hidden">
      <div class="modal-overlay" onclick="closeCBTModal()"></div>
      <div class="cbt-modal-content" id="cbtContent"></div>
    </div>
  </div>

  <script>
const GROK_API_KEY='xai-YourGrokAPIKeyHere';const GROK_API_URL='https://api.x.ai/v1/chat/completions';let state={streak:0,sessions:0,resilience:0,goals:0,history:[],badges:new Set(),conversationHistory:[],user:null};const SYSTEM_PROMPT=`You are a friendly and empathetic AI therapist named "Dost" designed to help teenagers with their mental health. You communicate in Hinglish (a mix of Hindi and English) to create a comfortable and relatable environment. Your primary goal is to listen, understand, and offer support and guidance without ever ending the conversation abruptly. You should always encourage the user to share more and explore their feelings.

IMPORTANT RULES:
1. ACKNOWLEDGE AND VALIDATE: Show empathy using phrases like "Mujhe sunke dukh hua", "Main samajh sakta hoon", "Yeh sunke achha laga"
2. ASK FOLLOW-UP QUESTIONS: Always probe deeper with open-ended questions like "Kya aap mujhe aur bata sakte hain?", "Aapko aisa kyun lag raha hai?", "Isse aapko kaisa feel ho raha hai?"
3. OFFER SUPPORT: Use phrases like "Main aapke saath hoon", "Aap akele nahi hain", "Aap bahut strong hain"
4. AVOID DIRECT SOLUTIONS INITIALLY: Focus on understanding feelings first. Only suggest solutions after full understanding.
5. NEVER END CONVERSATION: Always end with open-ended questions like "Aur kuch share karna chahenge?", "Aapke mann mein aur kya chal raha hai?", "Main yahan hoon sunne ke liye"
6. USE NATURAL HINGLISH: Mix Hindi and English naturally, don't be overly formal
7. BE NON-JUDGMENTAL: Accept all feelings and experiences
8. SAFETY: If self-harm mentioned, gently encourage professional help and provide helpline numbers

Remember: You are a supportive friend who is ALWAYS there to listen. Never end the conversation.`;function load(){const s=localStorage.getItem('mindmate_pro');if(s){const d=JSON.parse(s);Object.assign(state,d);state.badges=new Set(d.badges||[]);state.conversationHistory=d.conversationHistory||[];if(state.user){showMainApp()}else{showLoginPage()}}else{showLoginPage()}updateUI()}function save(){localStorage.setItem('mindmate_pro',JSON.stringify({...state,badges:Array.from(state.badges)}))}function showLoginPage(){document.getElementById('loginPage').classList.remove('hidden');document.getElementById('mainApp').classList.add('hidden')}function showMainApp(){document.getElementById('loginPage').classList.add('hidden');document.getElementById('mainApp').classList.remove('hidden');updateGreeting()}function handleLogin(e){e.preventDefault();const name=document.getElementById('userName').value.trim();const age=parseInt(document.getElementById('userAge').value);const email=document.getElementById('userEmail').value.trim();if(!name||age<13||age>100||!email.includes('@')){alert('Please fill all fields correctly');return}state.user={name,age,email,loginDate:new Date().toISOString()};save();showMainApp()}function handleLogout(){if(confirm('Are you sure you want to logout?')){state.user=null;save();showLoginPage()}}function updateGreeting(){if(!state.user)return;const hour=new Date().getHours();let greeting,icon;if(hour>=5&&hour<12){greeting='Good Morning';icon='üåÖ'}else if(hour>=12&&hour<17){greeting='Good Afternoon';icon='‚òÄÔ∏è'}else if(hour>=17&&hour<21){greeting='Good Evening';icon='üåÜ'}else{greeting='Good Night';icon='üåô'}document.getElementById('greetingTime').textContent=greeting;document.getElementById('greetingIcon').textContent=icon;document.getElementById('greetingName').textContent=`${greeting}, ${state.user.name}! üëã`}function updateUI(){document.getElementById('streakCount').textContent=state.streak;document.getElementById('totalSessions').textContent=state.sessions;document.getElementById('resilienceScore').textContent=state.resilience;document.getElementById('goalsCompleted').textContent=state.goals;updateBadges();if(state.user)updateGreeting()}function updateBadges(){const map={'3day':3,'7day':7,'14day':14,'30day':30,'first':1,'10sessions':10};Object.entries(map).forEach(([badge,req])=>{const el=document.querySelector(`[data-badge="${badge}"]`);if(!el)return;const unlocked=(badge.includes('day')&&state.streak>=req)||(badge==='first'&&state.sessions>=1)||(badge==='10sessions'&&state.sessions>=10);if(unlocked){el.classList.remove('locked');el.classList.add('unlocked');state.badges.add(badge)}})}async function getDostResponse(userMessage){const lower=userMessage.toLowerCase();if(lower.includes('suicide')||lower.includes('kill myself')||lower.includes('end it')||lower.includes('‡§Æ‡§∞‡§®‡§æ')||lower.includes('‡§ñ‡•Å‡§¶‡§ï‡•Å‡§∂‡•Ä')||lower.includes('mar jaana')||lower.includes('harm myself')||lower.includes('khatam kar')){showCrisis();return'Main aapki help karna chahta hoon, lekin yeh ek serious situation hai. üíô\n\nKya aap kisi professional se baat karna chahenge? Main aapko kuch helpline numbers de sakta hoon:\n\nüÜò National Crisis Line: 988\nüÜò KIRAN: 1800-599-0019\nüÜò Vandrevala: 1860-266-2345\nüÜò iCall: 9152987821\n\nAap akele nahi hain. Professional help lena bahut important hai. Kya aap mujhe aur batana chahenge ki aap kaisa feel kar rahe hain?'}state.conversationHistory.push({role:'user',content:userMessage});try{const response=await fetch(GROK_API_URL,{method:'POST',headers:{'Content-Type':'application/json','Authorization':`Bearer ${GROK_API_KEY}`},body:JSON.stringify({model:'grok-beta',messages:[{role:'system',content:SYSTEM_PROMPT},...state.conversationHistory],temperature:0.8,max_tokens:500})});if(!response.ok){throw new Error('Grok API failed')}const data=await response.json();const dostMessage=data.choices[0].message.content;state.conversationHistory.push({role:'assistant',content:dostMessage});if(state.conversationHistory.length>30){state.conversationHistory=state.conversationHistory.slice(-30)}save();return dostMessage}catch(error){console.error('Grok API Error:',error);return getFallbackDostResponse(userMessage)}}function getFallbackDostResponse(text){const lower=text.toLowerCase();const responses={positive:['Wah! Yeh sunke bahut achha laga! üòä\n\nKya aap mujhe aur bata sakte hain ki aaj kya special hua? Main sunna chahta hoon!','Bahut badhiya! Mujhe khushi hui yeh sunke! üåü\n\nAapko aisa kaisa feel ho raha hai? Aur kuch share karna chahenge?'],negative:['Mujhe sunke dukh hua ki aapka din aisa tha. üíô\n\nMain samajh sakta hoon ki aap aisa feel kar rahe hain. Kya aap mujhe aur bata sakte hain iske baare mein? Main yahan hoon sunne ke liye.','Main aapke saath hoon. Yeh mushkil time hai.\n\nAapko aisa kyun lag raha hai? Kya kuch specific hua tha? Main sunna chahta hoon.'],neutral:['Main samajh sakta hoon.\n\nKya aap mujhe thoda aur detail mein bata sakte hain? Aapke mann mein kya chal raha hai?','Theek hai, main sun raha hoon.\n\nIsse aapko kaisa feel ho raha hai? Aur kuch hai jo aap share karna chahenge?'],followup:['Kya aap mujhe aur bata sakte hain iske baare mein?','Aapko aisa kyun lag raha hai?','Isse aapko kaisa feel ho raha hai?','Kya isse pehle bhi aapko aisa experience hua hai?','Is situation mein aapne kya kiya?','Main yahan hoon sunne ke liye. Aur kuch share karna chahenge?','Aapke mann mein aur kya chal raha hai?']};if(lower.includes('accha')||lower.includes('good')||lower.includes('badhiya')||lower.includes('mast')||lower.includes('great')||lower.includes('happy')||lower.includes('khush')){return responses.positive[Math.floor(Math.random()*responses.positive.length)]}else if(lower.includes('bura')||lower.includes('bad')||lower.includes('bekaar')||lower.includes('kharab')||lower.includes('sad')||lower.includes('dukhi')||lower.includes('pareshan')||lower.includes('stress')||lower.includes('tension')){return responses.negative[Math.floor(Math.random()*responses.negative.length)]}else if(lower.includes('theek')||lower.includes('okay')||lower.includes('normal')){return responses.neutral[Math.floor(Math.random()*responses.neutral.length)]}else{return responses.followup[Math.floor(Math.random()*responses.followup.length)]}}function addMessage(text,isUser=false){const container=document.getElementById('chatMessages');const div=document.createElement('div');div.className=`message ${isUser?'user-message':'ai-message'}`;if(!isUser){const avatar=document.createElement('div');avatar.className='message-avatar';avatar.textContent='ü§ó';div.appendChild(avatar)}const content=document.createElement('div');content.className='message-content';content.textContent=text;div.appendChild(content);container.appendChild(div);container.scrollTop=container.scrollHeight;state.history.push({text,isUser,time:Date.now()})}async function sendMessage(){const input=document.getElementById('messageInput');const text=input.value.trim();if(!text)return;addMessage(text,true);input.value='';input.style.height='60px';document.getElementById('typingIndicator').classList.remove('hidden');const dostResponse=await getDostResponse(text);document.getElementById('typingIndicator').classList.add('hidden');addMessage(dostResponse);save()}function startSession(){document.getElementById('home').style.display='none';document.getElementById('chatSection').classList.remove('hidden');state.history=[];state.conversationHistory=[];setTimeout(()=>addMessage('Kaisa tha aapka aaj ka din?'),500)}function endSession(){if(confirm('End this session?')){completeSession()}}function completeSession(){const today=new Date().toDateString();const last=state.lastDate;if(last){const yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);if(last===yesterday.toDateString())state.streak++;else if(last!==today)state.streak=1}else state.streak=1;state.lastDate=today;state.sessions++;state.resilience=Math.min(100,state.resilience+5);save();updateUI();document.getElementById('modalStreak').textContent=state.streak;document.getElementById('completionModal').classList.remove('hidden')}function closeModal(){document.getElementById('completionModal').classList.add('hidden');document.getElementById('chatSection').classList.add('hidden');document.getElementById('home').style.display='block'}function quickMood(mood){if(mood==='struggling')showCrisis();startSession()}function toggleVoice(){const btn=document.getElementById('voiceBtn');if('webkitSpeechRecognition'in window){const r=new webkitSpeechRecognition();r.lang='hi-IN';r.continuous=false;btn.classList.add('listening');r.onresult=e=>{document.getElementById('messageInput').value=e.results[0][0].transcript;btn.classList.remove('listening')};r.onerror=()=>btn.classList.remove('listening');r.onend=()=>btn.classList.remove('listening');r.start()}else alert('Voice not supported. Use Chrome/Edge.')}function showCrisis(){document.getElementById('crisisBanner').classList.remove('hidden');window.scrollTo({top:0,behavior:'smooth'})}function closeCrisis(){document.getElementById('crisisBanner').classList.add('hidden')}function showSection(section){document.querySelectorAll('.hero,.insights-section,.resources-section').forEach(s=>s.classList.add('hidden'));document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active'));if(section==='home')document.querySelector('.hero').classList.remove('hidden');else if(section==='journal')document.getElementById('journal').classList.remove('hidden');else if(section==='resources')document.getElementById('resources').classList.remove('hidden');event.target.classList.add('active')}function startCBT(type){const modal=document.getElementById('cbtModal');const content=document.getElementById('cbtContent');modal.classList.remove('hidden');if(type==='breathing'){content.innerHTML=`<h2>üå¨Ô∏è Breathing Exercise</h2><p>Chalo deep breathing practice karte hain.</p><div class="breathing-circle inhale" id="breathCircle">Breathe In</div><p><strong>Circle ko follow karo:</strong></p><p>‚Ä¢ Breathe IN (4 sec) - Circle badhega</p><p>‚Ä¢ Hold (4 sec)</p><p>‚Ä¢ Breathe OUT (4 sec) - Circle chhota hoga</p><p>‚Ä¢ 5 minutes repeat karo</p><button class="btn-primary" onclick="closeCBTModal()">Complete</button>`;setTimeout(()=>{const circle=document.getElementById('breathCircle');let isInhale=true;setInterval(()=>{circle.textContent=isInhale?'Breathe In':'Breathe Out';circle.className=isInhale?'breathing-circle inhale':'breathing-circle exhale';isInhale=!isInhale},4000)},100)}else if(type==='reframing'){content.innerHTML=`<h2>üí≠ Thought Reframing</h2><p>Negative thoughts ko challenge karte hain.</p><p><strong>Negative thought:</strong></p><textarea class="thought-input" id="negThought" placeholder="e.g., Main kuch theek se nahi kar sakta..."></textarea><p><strong>Evidence against it:</strong></p><textarea class="thought-input" id="posThought" placeholder="e.g., Maine project complete kiya..."></textarea><p><strong>Dost ko kya kehte?</strong></p><textarea class="thought-input" id="friendThought" placeholder="Compassionate response..."></textarea><button class="btn-primary" onclick="saveReframing()">Save</button> <button class="btn-secondary" onclick="closeCBTModal()">Close</button>`}else if(type==='goals'){content.innerHTML=`<h2>üéØ Goal Setting</h2><p>Chhote goals set karte hain.</p><p><strong>Aaj ka goal:</strong></p><textarea class="thought-input" id="goalInput" placeholder="e.g., 10 min walk..."></textarea><button class="btn-primary" onclick="addGoal()">Add Goal</button><div id="goalsList" class="goal-list"></div><button class="btn-secondary" onclick="closeCBTModal()">Close</button>`}}function closeCBTModal(){document.getElementById('cbtModal').classList.add('hidden');state.goals++;save();updateUI()}function saveReframing(){const neg=document.getElementById('negThought').value;const pos=document.getElementById('posThought').value;const friend=document.getElementById('friendThought').value;if(neg&&pos&&friend){alert('Bahut badhiya! Thought reframe ho gaya.');closeCBTModal()}else alert('Please sab fields fill karo.')}function addGoal(){const input=document.getElementById('goalInput');const goal=input.value.trim();if(goal){const list=document.getElementById('goalsList');const item=document.createElement('div');item.className='goal-item';item.innerHTML=`<span>${goal}</span><button class="btn-small" onclick="completeGoal(this)">‚úì</button>`;list.appendChild(item);input.value=''}else alert('Goal enter karo.')}function completeGoal(btn){btn.parentElement.classList.add('completed');state.goals++;save();updateUI();setTimeout(()=>btn.parentElement.remove(),2000)}load();document.getElementById('messageInput')?.addEventListener('keypress',e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage()}});document.getElementById('messageInput')?.addEventListener('input',function(){this.style.height='60px';this.style.height=(this.scrollHeight)+'px'});
  </script>
</body>
</html>